<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.AnchorPane?>

<AnchorPane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" minHeight="-Infinity" minWidth="-Infinity" prefHeight="650.0" prefWidth="880.0" styleClass="main" stylesheets="@../../Styles/Styles.css" xmlns="http://javafx.com/javafx/19" xmlns:fx="http://javafx.com/fxml/1" fx:controller="praesentationsschicht_GUI.Controllers.NachrichtenController">
   <children>
      <ScrollPane layoutX="14.0" layoutY="14.0" prefHeight="638.0" prefWidth="865.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <content>
          <AnchorPane minWidth="0.0" prefHeight="601.0" prefWidth="874.0">
               <children>
                  <TextArea prefHeight="552.0" prefWidth="864.0" text="/* Name, Vorname:&#9;Hasan,Diyar&#9;&#9;Kalou,Ronida   Manla,Mohamad Hussam&#10;&quot;Wohnungsvermietungsplattform für Kurzzeitvermietungen&quot; */&#10;&#10;-- Tabellen und ihre Abhängigkeiten löschen, falls vorhanden&#10;DROP TABLE T_Nachrichten CASCADE CONSTRAINTS;&#10;DROP TABLE T_Zahlungen CASCADE CONSTRAINTS;&#10;DROP TABLE T_Bewertung CASCADE CONSTRAINTS;&#10;DROP TABLE T_Buchung CASCADE CONSTRAINTS;&#10;DROP TABLE T_Wohnung CASCADE CONSTRAINTS;&#10;DROP TABLE T_Benutzer CASCADE CONSTRAINTS;&#10;&#10;-- Benutzer-Tabelle &#10;&#10;&#10;CREATE TABLE T_Benutzer (&#10;    BenutzerID INTEGER PRIMARY KEY,&#10;    NachName VARCHAR(35) NOT NULL,&#10;    VorName VARCHAR(35) NOT NULL,&#10;    anrede CHAR(4) CHECK (anrede IN ('FRAU','HERR')),&#10;    Benutzername VARCHAR(255) NOT NULL,&#10;    EMail VARCHAR(255) NOT NULL CHECK (EMail LIKE '%@%.%'), &#10;    Passwort VARCHAR(255) NOT NULL,&#10;    strasse VARCHAR(100),&#10;    ort VARCHAR(100), &#10;    plz NUMBER(5),&#10;    Geburtsdatum DATE NOT NULL,&#10;    ReferenzBenutzerID INT,&#10;    Verifiziert CHAR(1) CHECK (Verifiziert IN ('J','N')),&#10;    FOREIGN KEY (ReferenzBenutzerID) REFERENCES T_Benutzer(BenutzerID) ON DELETE SET NULL&#10;);&#10;&#10;&#10;-- Wohnung-Tabelle&#10;CREATE TABLE T_Wohnung (&#10;    WohnungID INT PRIMARY KEY,&#10;    EigentuemerID INT,&#10;    strasse VARCHAR(100) NOT NULL,&#10;    ort VARCHAR(100) NOT NULL, &#10;    plz NUMBER(5) NOT NULL,&#10;    preisProNacht NUMERIC(7,2) NOT NULL,&#10;    Beschreibung VARCHAR(500),&#10;    Verfuegbarkeit CHAR(1) CHECK (Verfuegbarkeit IN ('J','N')) NOT NULL,&#10;    FOREIGN KEY (EigentuemerID) REFERENCES T_Benutzer(BenutzerID) ON DELETE CASCADE&#10;);&#10;&#10;&#10;-- Buchung-Tabelle&#10;CREATE TABLE T_Buchung (&#10;    BuchungID INT PRIMARY KEY,&#10;    MieterID INT NOT NULL,&#10;    WohnungID INT NOT NULL,&#10;    Buchungsdatum DATE NOT NULL,&#10;    Startdatum DATE NOT NULL,&#10;    Enddatum DATE NOT NULL,&#10;    CHECK ((Enddatum - Startdatum) &lt;= 365),&#10;    CHECK ((Startdatum - Buchungsdatum) &lt;= 90),&#10;    FOREIGN KEY (MieterID) REFERENCES T_Benutzer(BenutzerID) ON DELETE CASCADE,&#10;    FOREIGN KEY (WohnungID) REFERENCES T_Wohnung(WohnungID)  ON DELETE CASCADE&#10;);&#10;&#10;-- Bewertung-Tabelle&#10;CREATE TABLE T_Bewertung (&#10;    BewertungID INT PRIMARY KEY,&#10;    BuchungID INT,&#10;    Bewertungstext VARCHAR(500) NOT NULL,&#10;    Sternebewertung INT CHECK (Sternebewertung BETWEEN 1 AND 5),&#10;    FOREIGN KEY (BuchungID) REFERENCES T_Buchung(BuchungID) ON DELETE SET NULL&#10;);&#10;&#10;-- Zahlungen-Tabelle&#10;CREATE TABLE T_Zahlungen (&#10;    ZahlungsID INTEGER PRIMARY KEY,&#10;    BuchungID INTEGER NOT NULL,&#10;    Betrag NUMERIC(10, 2) NOT NULL,&#10;    Zahlungsdatum DATE NOT NULL,&#10;    zahlungsart VARCHAR(15) CHECK (zahlungsart in ('VorOrt','Lastschrift','Visa')) NOT NULL,&#10;    FOREIGN KEY (BuchungID) REFERENCES T_Buchung(BuchungID) ON DELETE CASCADE&#10;); &#10;&#10;-- Nachrichten-Tabelle&#10;CREATE TABLE T_Nachrichten (&#10;    NachrichtenID INT PRIMARY KEY,&#10;    SenderID INT,&#10;    EmpfaengerID INT,&#10;    Nachrichtentext VARCHAR(500),&#10;    Zeitstempel TIMESTAMP ,&#10;    FOREIGN KEY (SenderID) REFERENCES T_Benutzer(BenutzerID) ON DELETE SET NULL,&#10;    FOREIGN KEY (EmpfaengerID) REFERENCES T_Benutzer(BenutzerID) ON DELETE SET NULL&#10;);&#10;&#10;INSERT INTO T_Benutzer VALUES (1, 'Müller', 'Max', 'HERR', 'max.mueller', 'max.mueller@example.com', 'max12345', 'Beispielstr. 1', 'Beispielstadt', 12345, '01-01-1990', NULL, 'J');&#10;INSERT INTO T_Benutzer VALUES (2, 'Schmidt', 'Julia', 'FRAU', 'julia.schmidt', 'julia.schmidt@example.com', 'julia6789', 'Musterweg 2', 'Musterstadt', 23456, '02-02-1992', 1, 'N');&#10;INSERT INTO T_Benutzer VALUES (3, 'Fischer', 'Anna', 'FRAU', 'anna.fischer', 'anna.fischer@example.com', 'anna1234', 'Testallee 3', 'Teststadt', 34567, '03-03-1994', 2, 'J');&#10;&#10;INSERT INTO T_Wohnung VALUES (1, 1, 'Musterstraße 1', 'Musterstadt', 12345, 50.00, '3 Zimmer, Küche, Bad', 'J');&#10;INSERT INTO T_Wohnung VALUES (2, 2, 'Beispielweg 2', 'Beispielstadt', 23456, 75.00, '2 Zimmer, Küche, Bad', 'N');&#10;INSERT INTO T_Wohnung VALUES (3, 3, 'Testallee 3', 'Teststadt', 34567, 65.00, '4 Zimmer, Küche, Bad, Garten', 'J');&#10;&#10;INSERT INTO T_Buchung VALUES (1, 2, 1, '01-01-2023', '01-02-2023', '01-03-2023'); &#10;INSERT INTO T_Buchung VALUES (2, 3, 2, '15-01-2023', '15-02-2023', '15-04-2023');&#10;INSERT INTO T_Buchung VALUES (3, 1, 3, '01-02-2023', '01-03-2023', '01-04-2023');&#10;&#10;INSERT INTO T_Bewertung VALUES (1, 1, 'Sehr sauber und gemütlich.', 5);&#10;INSERT INTO T_Bewertung VALUES (2, 2, 'Gute Lage, aber etwas laut.', 3);&#10;INSERT INTO T_Bewertung VALUES (3, 3, 'Perfekt für Familien.', 4);&#10;&#10;INSERT INTO T_Zahlungen VALUES (1, 1, 500.00, '01-02-2023', 'Visa');&#10;INSERT INTO T_Zahlungen VALUES (2, 2, 750.00, '15-03-2023', 'Lastschrift');&#10;INSERT INTO T_Zahlungen VALUES (3, 3, 600.00, '01-04-2023', 'VorOrt');&#10;&#10;INSERT INTO T_Nachrichten VALUES (1, 1, 2, 'Können wir den Mietzeitraum anpassen?', '01-01-2023 10:00:00');&#10;INSERT INTO T_Nachrichten VALUES (2, 2, 3, 'Gibt es einen Parkplatz?', '02-02-2023 15:30:00');&#10;INSERT INTO T_Nachrichten VALUES (3, 3, 1, 'Ist die Wohnung noch verfügbar?', '03-03-2023 20:45:00');&#10;COMMIT;" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" />
               </children>
            </AnchorPane>
        </content>
      </ScrollPane>
   </children>
</AnchorPane>
